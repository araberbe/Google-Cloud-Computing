#  Conectar a tu instancia usando el cliente MySQL en Cloud Shell

## Introducci贸n

Este laboratorio pr谩ctico te guiar谩 en la creaci贸n y conexi贸n a una instancia de base de datos **MySQL** en **Google Cloud SQL** utilizando **Cloud Shell**. Aprender谩s a realizar operaciones b谩sicas con SQL, como crear una base de datos y cargar datos, todo desde la l铆nea de comandos. Este enfoque es ideal para empresas que necesitan gestionar datos de forma eficiente, como registros contables o informaci贸n de clientes, sin preocuparse por la infraestructura subyacente.

 **Beneficio empresarial**: **Cloud SQL** permite a las empresas implementar bases de datos seguras y escalables sin administrar servidores f铆sicos, lo que reduce costos operativos y agiliza procesos como el almacenamiento de transacciones o reportes financieros.

Para m谩s informaci贸n sobre Cloud SQL, consulta la [Documentaci贸n oficial de Google Cloud SQL](https://cloud.google.com/sql/docs).

##  Objetivos del laboratorio

- Crear una instancia de **Cloud SQL** para MySQL.
- Conectarte a la instancia desde **Cloud Shell** usando el cliente MySQL.
- Crear una base de datos y cargar datos de ejemplo, simulando un sistema como un libro de visitas.

 **Contexto empresarial**: Estos pasos son 煤tiles para configurar bases de datos que almacenen informaci贸n cr铆tica, como registros de transacciones o datos de clientes, con alta disponibilidad y seguridad.

##  Requisitos y preparaci贸n

### Requisitos previos
- Un navegador web (se recomienda **Google Chrome** en modo inc贸gnito para evitar conflictos de cuenta).
- Credenciales temporales proporcionadas por el laboratorio (no uses una cuenta personal de Google Cloud para evitar costos).
  
### Consideraciones importantes
- El laboratorio se realiza en tiempo real y no se puede pausar.
- Usa las credenciales temporales proporcionadas (usuario y contrase帽a).
- No configures opciones de recuperaci贸n ni autenticaci贸n en dos pasos.
- No te registres en pruebas gratuitas.

 **Contexto empresarial**: Usar credenciales temporales garantiza que las pruebas no generen costos inesperados, un aspecto clave para la gesti贸n financiera en proyectos tecnol贸gicos.

##  Tarea 1: Acceder a la consola de Google Cloud

En esta tarea, iniciar谩s sesi贸n en la **Consola de Google Cloud** para comenzar a trabajar con los servicios de la nube.

### Pasos
1. Haz clic en el bot贸n **Start Lab** en el entorno del laboratorio.
2. Copia el usuario y la contrase帽a proporcionados.
3. Accede a la **Consola de Google Cloud** haciendo clic en **Open Google Cloud console** (preferiblemente en una ventana de inc贸gnito).
4. Acepta los t茅rminos y condiciones sin agregar opciones de recuperaci贸n.

 **Contexto empresarial**: Acceder a la consola de forma segura es el primer paso para gestionar recursos en la nube, como bases de datos para sistemas contables o de gesti贸n empresarial.

Para m谩s informaci贸n sobre la consola, consulta la [Documentaci贸n de Google Cloud Console](https://cloud.google.com/console).

##  Tarea 2: Activar Cloud Shell

**Cloud Shell** es una terminal en l铆nea que permite ejecutar comandos directamente en el entorno de Google Cloud, ideal para gestionar recursos sin necesidad de instalar herramientas localmente.

### Pasos
1. Haz clic en el icono de **Cloud Shell** en la parte superior de la consola.
2. Autoriza el uso de las credenciales proporcionadas.
3. Espera a que aparezca el mensaje de confirmaci贸n del proyecto activo.

### Comandos 煤tiles

Verifica la cuenta activa:

```bash
gcloud auth list
```

**Explicaci贸n del comando**:  
- `gcloud auth list`: Muestra las cuentas autenticadas en **Cloud Shell**, asegurando que est谩s usando las credenciales correctas.  
 **Contexto empresarial**: Confirmar la cuenta activa es crucial para evitar accesos no autorizados, especialmente en entornos empresariales con datos sensibles.

Verifica el ID del proyecto:

```bash
gcloud config list project
```

**Explicaci贸n del comando**:  
- `gcloud config list project`: Muestra el ID del proyecto activo, necesario para asociar recursos como bases de datos.  
 **Contexto empresarial**: Mantener un control claro de los proyectos ayuda a asignar costos y recursos correctamente en la contabilidad de TI.

Para m谩s informaci贸n sobre Cloud Shell, consulta la [Documentaci贸n de Google Cloud Shell](https://cloud.google.com/shell/docs).

##  Tarea 3: Crear una instancia de Cloud SQL

En esta tarea, crear谩s una instancia de **Cloud SQL** para MySQL, que ser谩 la base para almacenar datos.

### Pasos
1. Desde el men煤 de navegaci贸n de la consola, selecciona **SQL** y haz clic en **Create Instance**.
2. Selecciona el motor de base de datos **MySQL**.
3. Elige la edici贸n **Enterprise** y el preset **Development** (4 vCPU, 16 GB RAM, 100 GB de almacenamiento).
4. Configura lo siguiente:
   - **Versi贸n**: MySQL 8.
   - **Nombre de la instancia**: `myinstance`.
   - **Regi贸n y zona**: Usa las indicadas en el laboratorio.
   - **Contrase帽a de root**: Genera y guarda una contrase帽a segura.
5. Haz clic en **Create Instance**.
6. Espera a que aparezca una marca de verificaci贸n verde, indicando que la instancia est谩 lista.

 **Contexto empresarial**: Una instancia de **Cloud SQL** permite almacenar datos cr铆ticos, como registros contables o de inventario, con alta disponibilidad y copias de seguridad autom谩ticas, reduciendo riesgos operativos.

Para m谩s informaci贸n sobre la creaci贸n de instancias, consulta la [Documentaci贸n de Google Cloud SQL](https://cloud.google.com/sql/docs/mysql/create-instance).

##  Tarea 4: Conectarse a la instancia usando el cliente MySQL en Cloud Shell

Conectar谩s la instancia de **Cloud SQL** desde **Cloud Shell** utilizando el cliente **MySQL**.

### Pasos
1. Abre **Cloud Shell** si no est谩 activo.
2. Ejecuta el siguiente comando para conectarte a la instancia:

```bash
gcloud sql connect myinstance --user=root
```

**Explicaci贸n del comando**:  
- `gcloud`: Herramienta de l铆nea de comandos de Google Cloud.  
- `sql connect`: Inicia una conexi贸n a una instancia de **Cloud SQL**.  
- `myinstance`: Nombre de la instancia creada.  
- `--user=root`: Especifica el usuario administrador (root) para la conexi贸n.  
3. Autoriza el comando si se solicita.  
4. Ingresa la contrase帽a de root cuando se te pida.

 **Contexto empresarial**: Conectar a una base de datos desde la l铆nea de comandos permite a los equipos de TI realizar tareas r谩pidas, como consultar transacciones o generar reportes financieros, sin necesidad de interfaces gr谩ficas complejas.

Para m谩s informaci贸n sobre conexiones a Cloud SQL, consulta la [Documentaci贸n de Google Cloud SQL](https://cloud.google.com/sql/docs/mysql/connect-admin-ip).

##  Tarea 5: Crear una base de datos y cargar datos

En esta tarea, crear谩s una base de datos llamada `guestbook` y cargar谩s datos de ejemplo, simulando un sistema de libro de visitas.

### Pasos
1. Crea la base de datos `guestbook`:

```sql
CREATE DATABASE guestbook;
```

**Explicaci贸n del comando**:  
- `CREATE DATABASE guestbook`: Crea una nueva base de datos llamada `guestbook` en la instancia de **Cloud SQL**.  
 **Contexto empresarial**: Crear bases de datos espec铆ficas permite organizar informaci贸n, como registros de clientes o transacciones, para facilitar su gesti贸n y an谩lisis.

2. Selecciona la base de datos y crea una tabla llamada `entries`:

```sql
USE guestbook;
CREATE TABLE entries 
(guestName VARCHAR(255), 
content VARCHAR(255),
entryID INT NOT NULL AUTO_INCREMENT, PRIMARY KEY(entryID));
```

**Explicaci贸n del c贸digo**:  
- `USE guestbook`: Selecciona la base de datos `guestbook` para realizar operaciones.  
- `CREATE TABLE entries`: Crea una tabla llamada `entries` con las columnas:  
  - `guestName`: Almacena el nombre del invitado (hasta 255 caracteres).  
  - `content`: Almacena un mensaje (hasta 255 caracteres).  
  - `entryID`: Identificador 煤nico que se incrementa autom谩ticamente.  
  - `PRIMARY KEY(entryID)`: Define `entryID` como la clave primaria para identificar registros de forma 煤nica.  
 **Contexto empresarial**: Esta estructura es 煤til para registrar interacciones, como comentarios de clientes o auditor铆as de procesos, en sistemas empresariales.

3. Inserta datos de ejemplo en la tabla `entries`:

```sql
INSERT INTO entries (guestName, content) VALUES ("first guest", "I got here!");
INSERT INTO entries (guestName, content) VALUES ("second guest", "Me too!");
```

**Explicaci贸n del c贸digo**:  
- `INSERT INTO entries`: A帽ade nuevos registros a la tabla `entries`.  
- `VALUES`: Especifica los valores para `guestName` y `content`.  
 **Contexto empresarial**: Insertar datos de ejemplo simula la carga de informaci贸n real, como registros de transacciones o interacciones con clientes, que pueden usarse para pruebas o auditor铆as.

4. Consulta los datos insertados:

```sql
SELECT * FROM entries;
```

**Explicaci贸n del comando**:  
- `SELECT * FROM entries`: Recupera todos los registros de la tabla `entries`, mostrando los datos insertados (`guestName`, `content`, `entryID`).  
 **Contexto empresarial**: Consultar datos es esencial para generar reportes, como res煤menes de transacciones o an谩lisis de interacciones con clientes.

Para m谩s informaci贸n sobre comandos SQL en Cloud SQL, consulta la [Documentaci贸n de Google Cloud SQL](https://cloud.google.com/sql/docs/mysql/quickstart).

##  Conclusi贸n

Este laboratorio te ha permitido configurar una instancia de **Cloud SQL** para **MySQL**, conectarte a ella desde **Cloud Shell**, y realizar operaciones b谩sicas como crear una base de datos y cargar datos. Estas habilidades son fundamentales para gestionar bases de datos en la nube, que son esenciales en entornos empresariales para almacenar y analizar informaci贸n cr铆tica, como registros contables, datos de clientes o auditor铆as.

 **Beneficio empresarial**: Usar **Cloud SQL** permite a las empresas mantener bases de datos seguras, escalables y de f谩cil acceso, reduciendo costos de infraestructura y mejorando la eficiencia en procesos como la gesti贸n financiera o el an谩lisis de datos.